%YAML 1.2
---
# Holoscan Configuration

scheduler_type: greedy
scheduler:
    check_recession_period_ms: 0
    worker_thread_number: 4
    stop_on_deadlock: true
    stop_on_deadlock_timeout: 500

# Graph

stelline:
    graph:
        transport:
            bit: transport_bit
            configuration: ata_standard_rx
        blade:
            bit: blade_bit
            configuration: blade_frbnn
            input:
                in: transport
        writer:
            bit: filesystem_bit
            configuration: file_writer
            input:
                in: blade

# Nodes

ata_standard_rx:
    mode: ata
    rdma_gpu: 0
    rdma_nic: 01:00.0
    rdma_master_core: 0
    rdma_worker_cores: [1]
    rdma_max_bursts: 32
    rdma_burst_size: 8192
    concurrent_blocks: 8
    output_pool_size: 32
    sorter_depth: 8
    enable_csv_logging: true
    total_block:
        number_of_antennas: 28
        number_of_channels: 192
        number_of_samples: 8192
        number_of_polarizations: 2
    partial_block:
        number_of_antennas: 1
        number_of_channels: 96
        number_of_samples: 16
        number_of_polarizations: 2
    offset_block:
        number_of_antennas: 0
        number_of_channels: 1120
        number_of_samples: 0
        number_of_polarizations: 0

blade_frbnn:
    input_shape:
        number_of_antennas: 28
        number_of_channels: 192
        number_of_samples: 8192
        number_of_polarizations: 2
    output_shape:
        number_of_antennas: 32
        number_of_channels: 192
        number_of_samples: 2048
        number_of_polarizations: 1
    mode: frbnn
    number_of_buffers: 4
    options:

file_writer:
    mode: simple_writer
    file_path: ./output.bin
